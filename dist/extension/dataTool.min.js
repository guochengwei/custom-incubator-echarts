
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t(e.dataTool={},e.echarts)}(this,function(e,t){"use strict";var i=Array.prototype.map;function l(e,t,r){if(e&&t){if(e.map&&e.map===i)return e.map(t,r);for(var a=[],o=0,n=e.length;o<n;o++)a.push(t.call(r,e[o],o,e));return a}}function g(e,t){return e.getAttribute(t)}function h(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function b(e,t){for(var r=e.firstChild,a=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&a.push(r),r=r.nextSibling;return a}var r=(Object.freeze||Object)({parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var r=h(t,"gexf");if(!r)return null;for(var a=h(r,"graph"),o=function(e){return e?l(b(e,"attribute"),function(e){return{id:g(e,"id"),title:g(e,"title"),type:g(e,"type")}}):[]}(h(a,"attributes")),n={},i=0;i<o.length;i++)n[o[i].id]=o[i];return{nodes:function(e,d){return e?l(b(e,"node"),function(e){var t=g(e,"id"),r=g(e,"label"),a={id:t,name:r,itemStyle:{normal:{}}},o=h(e,"viz:size"),n=h(e,"viz:position"),i=h(e,"viz:color"),l=h(e,"attvalues");if(o&&(a.symbolSize=parseFloat(g(o,"value"))),n&&(a.x=parseFloat(g(n,"x")),a.y=parseFloat(g(n,"y"))),i&&(a.itemStyle.normal.color="rgb("+[0|g(i,"r"),0|g(i,"g"),0|g(i,"b")].join(",")+")"),l){var u=b(l,"attvalue");a.attributes={};for(var s=0;s<u.length;s++){var f=u[s],c=g(f,"for"),p=g(f,"value"),v=d[c];if(v){switch(v.type){case"integer":case"long":p=parseInt(p,10);break;case"float":case"double":p=parseFloat(p);break;case"boolean":p="true"==p.toLowerCase()}a.attributes[c]=p}}}return a}):[]}(h(a,"nodes"),n),links:function(e){return e?l(b(e,"edge"),function(e){var t=g(e,"id"),r=g(e,"label"),a=g(e,"source"),o=g(e,"target"),n={id:t,name:r,source:a,target:o,lineStyle:{normal:{}}},i=n.lineStyle.normal,l=h(e,"viz:thickness"),u=h(e,"viz:color");return l&&(i.width=parseFloat(l.getAttribute("value"))),u&&(i.color="rgb("+[0|g(u,"r"),0|g(u,"g"),0|g(u,"b")].join(",")+")"),n}):[]}(h(a,"edges"))}}});function w(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),o=+e[a-1],n=r-a;return n?o+n*(e[a]-o):o}var a=function(e,t){for(var r,a=[],o=[],n=[],i=(t=t||[]).boundIQR,l="none"===i||0===i,u=0;u<e.length;u++){n.push(u+"");var s=((r=e[u].slice()).sort(function(e,t){return e-t}),r),f=w(s,.25),c=w(s,.5),p=w(s,.75),v=s[0],d=s[s.length-1],g=(null==i?1.5:i)*(p-f),h=l?v:Math.max(v,f-g),b=l?d:Math.min(d,p+g);a.push([h,f,c,p,b]);for(var m=0;m<s.length;m++){var y=s[m];if(y<h||b<y){var x=[u,y];"vertical"===t.layout&&x.reverse(),o.push(x)}}}return{boxData:a,outliers:o,axisData:n}},o="1.0.0";t.dataTool&&(t.dataTool.version=o,t.dataTool.gexf=r,t.dataTool.prepareBoxplotData=a),e.version=o,e.gexf=r,e.prepareBoxplotData=a});
